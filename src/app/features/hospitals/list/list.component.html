<div class="card">
  <div class="card-header">
    <div class="row">
      <div class="col-10">
        <h4 class="card-title"> {{ 'UPA.Hospitals' | translate }} </h4>
      </div>
      <div class="col-2">
        <a (click)="addHospital()" [ngClass]="lang == 'en' ? 'hrefbutton': 'hrefbuttonAr'">
          {{'UPA.Add'|translate }}</a>
      </div>
    </div>
  </div>
  <div class="card-list">
    <div class="row ">
      <div class="col-12">
        <p-table [value]="lstHospitals" styleClass="p-datatable-sm p-datatable-striped p-datatable-gridlines" responsiveLayout="scroll"
        [rowHover]="true" [paginator]="true" [lazy]="true" [rows]="10" [loading]="loading" [totalRecords]="count" pageLinks="10"
          (onLazyLoad)="clicktbl($event)"   [scrollable]="true"  scrollHeight="380px"  >
          <ng-template pTemplate="header" let-cols>
<tr>

  <th [sortable]="true"> <ng-multiselect-dropdown appendTo="body" [placeholder]="'UPA.Code'|translate" [settings]="dropdownSettingsCode"
    [data]="lstHospitals2" [(ngModel)]="selectedCodeItems" (onSelect)="onCodeSelect($event)"
    (onSelectAll)="onCodeSelectAll($event)" (onDeSelect)="onCodeDeselect($event)"
    (onDeSelectAll)="onCodeDeselectAll($event)">
</ng-multiselect-dropdown></th>
<th [sortable]="true"> <ng-multiselect-dropdown appendTo="body" [placeholder]="'UPA.Name'|translate" [settings]="dropdownSettingsName"
  [data]="lstHospitals2" [(ngModel)]="selectedNameItems" (onSelect)="onNameSelect($event)"
  (onSelectAll)="onNameSelectAll($event)" (onDeSelect)="onNameDeselect($event)"
  (onDeSelectAll)="onNameDeselectAll($event)">
</ng-multiselect-dropdown></th>
  <th [sortable]="true" >
      <ng-multiselect-dropdown    appendTo="body" [placeholder]="'UPA.Governorate'|translate"
      [settings]="dropdownSettings" [data]="lstGovernorates" [(ngModel)]="selectedGovItems"
      (onSelect)="onGovSelect($event)" (onSelectAll)="onGovSelectAll($event)"
      (onDeSelect)="onGovDeselect($event)" (onDeSelectAll)="onGovDeselectAll($event)">
  </ng-multiselect-dropdown>
  </th>

  <th  [sortable]="true"> <ng-multiselect-dropdown appendTo="body" [placeholder]="'UPA.Organization'|translate" [settings]="dropdownSettings"
      [data]="listOrg" [(ngModel)]="selectedOrgItems" (onSelect)="onOrgSelect($event)"
      (onSelectAll)="onOrgSelectAll($event)" (onDeSelect)="onOrgDeselect($event)"
      (onDeSelectAll)="onOrgDeselectAll($event)">
  </ng-multiselect-dropdown> </th>
  <th [sortable]="true"><ng-multiselect-dropdown   class="custom-dropdown-width" [placeholder]="'UPA.SubOrganization'|translate"
      [settings]="dropdownSettings" [data]="lstSubOrg" [(ngModel)]="selectedSubOrgItems"
      (onSelect)="onSubOrgSelect($event)" (onSelectAll)="onSubOrgSelectAll($event)"
      (onDeSelect)="onSubOrgDeselect($event)" (onDeSelectAll)="onSubOrgDeselectAll($event)">
  </ng-multiselect-dropdown></th>
 

 
  

 

    <th>  <div >
      <a class="btn resetIcon" (click)="  clearSearch()">
          <i class="fa-solid fa-x "></i></a>
  </div></th>
</tr>
            <tr>
              <th [sortable]="true" >{{ 'UPA.Code' | translate }}
                <p-sortIcon id="{{'UPA.Code' | translate}}" (click)="sortAfterSearch($event)"
                        style="cursor: pointer;"> </p-sortIcon>
              </th>
              <th [sortable]="true">{{ 'UPA.Name' | translate }}
                <p-sortIcon id="{{'UPA.Name' | translate}}" (click)="sortAfterSearch($event)"></p-sortIcon>
              </th>
              <th [sortable]="true">{{'UPA.Governorate' | translate}}
                <p-sortIcon id="{{'UPA.Governorate' | translate}}" (click)="sortAfterSearch($event)"></p-sortIcon>
              </th>
              <!-- <th pSortableColumn="">{{'UPA.City' | translate}}
                <p-sortIcon field=""></p-sortIcon>
              </th> -->
              <th [sortable]="true">{{'UPA.Organization' |translate}}
                <p-sortIcon  id="{{'UPA.Organization' | translate}}" (click)="sortAfterSearch($event)"></p-sortIcon>
              </th>
              <th [sortable]="true">{{'UPA.SubOrganization' |translate}}
                <p-sortIcon  id="{{'UPA.SubOrganization' | translate}}" (click)="sortAfterSearch($event)"></p-sortIcon>
              </th>
              <th>{{'UPA.Actions' | translate}}</th>
            </tr>


          </ng-template>
          <ng-template pTemplate="body" let-item>
            <tr>
              <td style="text-align: inherit;">
                {{lang=="en"?item.code:(+item.code).toLocaleString("ar-SA")}}</td>
              <td>{{lang =="en" ? item.name:item.nameAr}}</td>
              <td>{{lang =="en" ? item.governorateName:item.governorateNameAr}}</td>
              <!-- <td>{{lang =="en" ? item.cityName:item.cityNameAr}}</td> -->
              <td>{{lang =="en" ? item.orgName:item.orgNameAr}}</td>
              <td>{{lang =="en" ? item.subOrgName:item.subOrgNameAr}}</td>
              <td>
                <span (click)="viewHospital(item.id)" pTooltip="{{'UPA.View' |  translate}}" tooltipPosition="top">
                  <i class="viewIcon pi pi-eye" ></i> </span>
                <span (click)="editHospital(item.id)" pTooltip="{{'UPA.Edit' |  translate}}" tooltipPosition="top">
                  <i class="editIcon pi pi-file-edit"></i> </span>
                <span (click)="deleteHospital(item.id)" pTooltip="{{'UPA.Delete' |  translate}}" tooltipPosition="top">
                  <i class="deleteIcon pi pi-trash"></i> </span>
              </td>
            </tr>
          </ng-template>
        </p-table>



      </div>
    </div>
  </div>
</div>