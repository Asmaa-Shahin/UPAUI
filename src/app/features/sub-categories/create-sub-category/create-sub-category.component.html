<div class="card">
    <div class="card-body">
        <form #form="ngForm" (ngSubmit)="onSubmit()">
            <div class="row">
                <div class="col">
                    <input type="text" class="form-control fieldCode" id="code" name="code" [(ngModel)]="subCategoryObj.code" #code="ngModel"
                      
                        pTooltip="{{'UPA.Code' | translate}}" tooltipPosition="left"         [class.is-invalid]="(code.touched && code.errors) || form.submitted" [class.is-valid]="code.valid && form.submitted"required/>
                </div>
            </div>
            <div class="row ">
                <div class="col">
                    <label [translate]="'UPA.Category'"></label>
                    <select [(ngModel)]="subCategoryObj.categoryId" class="form-control"
                        [ngModelOptions]="{standalone: true}" (change)="onCategoryChange($event)" [value]="0" >
                        <option value="0"> </option>
                        <option *ngFor="let item of lstCategories" [value]="item.id">
                            {{lang =='en' ? item.name:item.nameAr}}</option>
                    </select>
                </div>
            </div>
            <div class="row ">
                <div class="col">
                    <label for="name" [translate]="'UPA.Name'"></label>
                    <input type="text" #name="ngModel" 
                    [class.is-invalid]="(name.touched && name.errors) || form.submitted" [class.is-valid]="name.valid && form.submitted"  [(ngModel)]="subCategoryObj.name" name="name" id="name"
                        class="form-control" required>
                </div>
            </div>
            <div class="row top-buffer">
                <div class="col">
                    <label for="nameAr" [translate]="'UPA.ArabicName'"></label>
                    <input   [class.is-invalid]="(nameAr.touched && nameAr.errors) || form.submitted" [class.is-valid]="nameAr.valid && form.submitted"  type="text" #nameAr="ngModel" 
[(ngModel)]="subCategoryObj.nameAr" name="nameAr" id="nameAr"
                        class="form-control" required>
                </div>
            </div>
            <div class="row ">
                <div class="d-flex justify-content-center">
                    <button type="submit" class="btn btn-success" [translate]="'UPA.Save'"></button>
                </div>
            </div>
        </form>
    </div>
</div>

<p-dialog appendTo="body" modal="true" [(visible)]="display" [style]="{width: '350px'}">
    <ng-template pTemplate="header">
        <h6 [translate]="''" style="color: #04527e;font-weight: bold;font-size: 16pt;">{{ 'UPA.Save' | translate }}
        </h6>
    </ng-template>
    <span style="color: green;font-weight: bold;font-size: 12pt;text-align: center;"> {{ 'UPA.SavedSuccess' |
        translate }}</span>
</p-dialog>

<p-dialog appendTo="body" modal="true" [(visible)]="errorDisplay" [style]="{ width: '350px' }">
    <p-header style="color: rgb(181, 4, 4)"> {{ 'UPA.Error' | translate }} </p-header>
    <span style="color: rgb(181, 4, 4); font-weight: bold">
        {{ errorMessage }}</span>
</p-dialog>